node f(ck : bool; b : bool when ck) returns (y : int when ck)
let
    automaton
    initially A
    state A do y = 0 fby (y + 1)
            until b restart B
    state B do y = 0 fby (y - 1)
            until b restart A
    end
tel
